"use strict";YUI.add("rg-uri",function(t){t.namespace("rg");var r=function(){function r(t){return null!==t&&""!==t}function t(t){var r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],i="queryKey",e=/(?:^|&)([^&=]*)=?([^&]*)/g,o=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t=t||""),s=14,n=this;for(this.uriParts={};s--;)this.uriParts[r[s]]=o[s]||"";this.uriParts[i]={},this.uriParts[r[12]].replace(e,function(t,r,e){r&&(n.uriParts[i][r]=e)}),this.queryObj=new h(this.uriParts.query),this.hasAuthorityPrefixUserPref=null}return t.prototype.protocol=function(t){return void 0!==t&&(this.uriParts.protocol=t),this.uriParts.protocol},t.prototype.hasAuthorityPrefix=function(t){return void 0!==t&&(this.hasAuthorityPrefixUserPref=t),null===this.hasAuthorityPrefixUserPref?-1!==this.uriParts.source.indexOf("//"):this.hasAuthorityPrefixUserPref},t.prototype.userInfo=function(t){return void 0!==t&&(this.uriParts.userInfo=t),this.uriParts.userInfo},t.prototype.host=function(t){return void 0!==t&&(this.uriParts.host=t),this.uriParts.host},t.prototype.port=function(t){return void 0!==t&&(this.uriParts.port=t),this.uriParts.port},t.prototype.path=function(t){return void 0!==t&&(this.uriParts.path=t),this.uriParts.path},t.prototype.query=function(t){return void 0!==t&&(this.queryObj=new h(t)),this.queryObj},t.prototype.anchor=function(t){return void 0!==t&&(this.uriParts.anchor=t),this.uriParts.anchor},t.prototype.setProtocol=function(t){return this.protocol(t),this},t.prototype.setHasAuthorityPrefix=function(t){return this.hasAuthorityPrefix(t),this},t.prototype.setUserInfo=function(t){return this.userInfo(t),this},t.prototype.setHost=function(t){return this.host(t),this},t.prototype.setPort=function(t){return this.port(t),this},t.prototype.setPath=function(t){return this.path(t),this},t.prototype.setQuery=function(t){return this.query(t),this},t.prototype.setAnchor=function(t){return this.anchor(t),this},t.prototype.getQueryParamValue=function(t){return this.query().getParamValue(t)},t.prototype.getQueryParamValues=function(t){return this.query().getParamValues(t)},t.prototype.deleteQueryParam=function(t,r){return 2===arguments.length?this.query().deleteParam(t,r):this.query().deleteParam(t),this},t.prototype.addQueryParam=function(t,r,e){return 3===arguments.length?this.query().addParam(t,r,e):this.query().addParam(t,r),this},t.prototype.replaceQueryParam=function(t,r,e){return 3===arguments.length?this.query().replaceParam(t,r,e):this.query().replaceParam(t,r),this},t.prototype.scheme=function(){var t="";return r(this.protocol())?(t+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1&&(t+=":"),t+="//"):this.hasAuthorityPrefix()&&r(this.host())&&(t+="//"),t},t.prototype.origin=function(){var t=this.scheme();return r(this.userInfo())&&r(this.host())&&(t+=this.userInfo(),this.userInfo().indexOf("@")!==this.userInfo().length-1&&(t+="@")),r(this.host())&&(t+=this.host(),r(this.port())&&(t+=":"+this.port())),t},t.prototype.toString=function(){var t=this.origin();return r(this.path())&&(t+=this.path()),r(this.query().toString())&&(0!==this.query().toString().indexOf("?")&&(t+="?"),t+=this.query().toString()),r(this.anchor())&&(0!==this.anchor().indexOf("#")&&(t+="#"),t+=this.anchor()),t},t.prototype.clone=function(){return new t(this.toString())},t}(),h=function(){function h(t){return t=(t=decodeURIComponent(t)).replace("+"," ")}function t(t){var r,e,i,o,s,n,h;if(this.params=[],null!=t&&""!==t)for(0===t.indexOf("?")&&(t=t.substring(1)),e=t.toString().split(/[&;]/),r=0;r<e.length;r++)n=(o=(i=e[r]).split("="))[0],s=null===o[1]?"":o[1],h=-1===i.indexOf("=")?null:s,this.params.push([n,h])}return t.prototype.getParamValue=function(t){var r,e;for(e=0;e<this.params.length;e++)if(r=this.params[e],h(t)===h(r[0]))return r[1]},t.prototype.getParamValues=function(t){var r,e,i=[];for(r=0;r<this.params.length;r++)e=this.params[r],h(t)===h(e[0])&&i.push(e[1]);return i},t.prototype.deleteParam=function(t,r){var e,i,o,s,n=[];for(e=0;e<this.params.length;e++)o=h((i=this.params[e])[0])===h(t),s=h(i[1])===h(r),(1===arguments.length&&!o||2===arguments.length&&!o&&!s)&&n.push(i);return this.params=n,this},t.prototype.addParam=function(t,r,e){return 3===arguments.length&&-1!==e?(e=Math.min(e,this.params.length),this.params.splice(e,0,[t,r])):0<arguments.length&&this.params.push([t,r]),this},t.prototype.replaceParam=function(t,r,e){var i,o,s=-1;if(3===arguments.length){for(i=0;i<this.params.length;i++)if(h((o=this.params[i])[0])===h(t)&&decodeURIComponent(o[1])===h(e)){s=i;break}this.deleteParam(t,e).addParam(t,r,s)}else{for(i=0;i<this.params.length;i++)if(h((o=this.params[i])[0])===h(t)){s=i;break}this.deleteParam(t),this.addParam(t,r,s)}return this},t.prototype.toString=function(){var t,r,e="";for(t=0;t<this.params.length;t++)r=this.params[t],0<e.length&&(e+="&"),null===r[1]?e+=r[0]:e+=r.join("=");return 0<e.length?"?"+e:e},t}();t.rg.Uri=r,t.rg.Query=h},"0.0.1",{});
"use strict";YUI.add("rg-ajax",function(l){var p;l.namespace("rg");var m=0;l.rg.ajaxDbwAware=function(r,e,t,n,o,s,a){return l.Lang.isUndefined(s)&&(s="GET"),s=s.toUpperCase(),l.rg.ajax(r,e,t,n,o,s,a)},l.rg.ajaxEncodePostData=function(r,a){return function r(e,t,n){for(var o in t)if(t.hasOwnProperty(o)){var s=e?e+"["+o+"]":o;l.Lang.isObject(t[o])?r(s,t[o],n):void 0!==t[o]&&null!==t[o]&&(n[s]=a?t[o]:encodeURIComponent(t[o]))}return n}("",r,{})},l.rg.ajaxEncodePostDataToQueryString=function(r){var e=l.rg.ajaxEncodePostData(r),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+e[n]);return 0<t.length?t.join("&"):null};var i=function(s,a,u,i,c,g,f){var d,r=l.merge(f,{Accept:"application/json"});return l.Lang.isObject(a)||(a={}),l.Lang.isUndefined(g)&&(g="POST"),"POST"!==g&&"PUT"!==g&&"DELETE"!==g&&"PATCH"!==g||(a.request_token=RGCommons.requestToken.get(),r["Content-Type"]="application/x-www-form-urlencoded"),{headers:r,method:p=g,data:l.rg.ajaxEncodePostDataToQueryString(a),arguments:{fn:u,context:i,args:c},on:{start:function(){d=(new Date).getTime()},success:function(r,e,t){var n,o=(new Date).getTime();if(204===e.status)n={success:!0,result:{},errors:[]};else try{if(RGCommons.performedRequests.log(s,g,e,!0,parseInt(o-d,10)),(n=l.JSON.parse(e.responseText)).debug&&l.Array.each(n.debug,function(r){l.log(r.message,"info"),l.log(r.context,"info")}),n.requestToken&&RGCommons.requestToken.update(n.requestToken),n.errors&&"csrf-retry"===n.errors[0]&&m<5)return m++,void l.rg.ajaxDbwAware(s,a,u,i,c,g,f);if(n.success&&(m=0),!1===n.success&&n.result.redirect)return l.log("ajax redirect: "+n.result.redirect),void l.rg.utils.url.forwardTo(n.result.redirect)}catch(r){n={success:!1,result:{},errors:["An error occurred while parsing server response.",r.message]}}l.Lang.isFunction(t.fn)&&t.fn.call(t.context,n,t.args)},failure:function(r,e,t){var n;try{RGCommons.performedRequests.log(s,g,e,!1),n=l.JSON.parse(e.responseText)}catch(r){n={success:!1,result:{},errors:["A server error occurred"]}}n.success=!1,!l.Lang.isFunction(t.fn)||e&&!e.status||t.fn.call(t.context,n,t.args)}}}};l.rg.ajax=function(r,e,t,n,o,s,a){if(!r)throw new Error("Trying to perform ajax request to empty url");if(p&&"GET"!==p||"GET"!==s){var u=new l.rg.Uri(r);u.addQueryParam("dbw","true"),r=u.toString()}return l.io(r,i(r,e,t,n,o,s,a))},l.rg.queueAjax=function(r,e,t,n,o,s,a){if(!r)throw new Error("Trying to queue ajax request to empty url");if(p&&"GET"!==p||"GET"!==s){var u=new l.rg.Uri(r);u.addQueryParam("dbw","true"),r=u.toString()}return l.io.queue(r,i(r,e,t,n,o,s,a))}},"0.0.1",{requires:["io-base","io-queue","json","cookie","rg-uri","rg-utils-url"]});
"use strict";YUI.add("rg-anim",function(S){S.namespace("rg"),S.rg.highlight=function(t,e,n){var i=S.one(t),o=S.merge({duration:1.5},n);if(0===S.UA.ie||8<S.UA.ie)i.setStyle("backgroundColor","#fffed2"),i.transition({easing:"ease-out",duration:o.duration,backgroundColor:"rgba(0,0,0,0)"},function(){i.setStyle("backgroundColor",""),e&&e()});else{var a=new S.Anim({node:i,from:{backgroundColor:"#fffed2"},to:{backgroundColor:"#ffffff"},duration:o.duration});a.set("easing",S.Easing.easeOut),a.on("end",function(){i.setStyle("backgroundColor",""),e&&e()}),a.run()}},S.rg.fadeToggle=function(t,e,n){var i,o,a=S.one(t);if(!a)return!1;i="none"!=a.getStyle("display"),o=S.merge({duration:.2},n),i?a.transition({easing:"linear",duration:o.duration,opacity:"0"},function(){a.hide(),a.setStyle("opacity",""),e&&e()}):(a.setStyle("opacity","0"),a.show(),a.transition({easing:"linear",duration:o.duration,opacity:"1"},function(){a.setStyle("opacity",""),e&&e()}))},S.rg.slideOpen=function(t,e,n){var i=S.one(t),o="none"!=i.getStyle("display"),a=null,r=n&&"duration"in n?n.duration:.3,d=n&&"dimension"in n?n.dimension:"height",g=new S.Anim({node:i,duration:r});if(!o){i.setStyle(d,""),i.setStyle("overflow","hidden"),i.setStyle("visibility","hidden"),i.setStyle("display","block");var s=i.getStyle("marginTop"),l=i.getStyle("marginBottom"),u=i.getStyle("marginLeft"),y=i.getStyle("marginRight"),f=i.getStyle("paddingTop"),p=i.getStyle("paddingBottom"),m=i.getStyle("paddingLeft"),h=i.getStyle("paddingRight");return"height"!=d?(i.setStyle("paddingLeft","0"),i.setStyle("paddingRight","0"),i.setStyle("marginLeft","0"),i.setStyle("marginRight","0"),a=i.get("offsetWidth"),g.set("to",{width:a,marginLeft:u,marginRight:y,paddingLeft:m,paddingRight:h})):(i.setStyle("paddingTop","0"),i.setStyle("paddingBottom","0"),i.setStyle("marginTop","0"),i.setStyle("marginBottom","0"),a=i.get("offsetHeight"),g.set("to",{height:a,marginTop:s,marginBottom:l,paddingTop:f,paddingBottom:p})),i.setStyle("display","none"),i.setStyle("visibility",""),i.setStyle(d,"1px"),g.on("start",function(){i.show(),i.setStyle("display","block")}),g.on("end",function(){i.removeAttribute("style"),e&&e(!0)}),g.run(),g}},S.rg.slideClose=function(t,e,n){var i=S.one(t);if(i){var o="none"!=i.getStyle("display"),a=n&&"duration"in n?n.duration:.2,r=n&&"dimension"in n?n.dimension:"height",d=new S.Anim({node:i,duration:a});if(o)return"height"!=r?d.set("to",{width:"1px",paddingLeft:"0",paddingRight:"0",marginLeft:"0",marginRight:"0"}):d.set("to",{height:"1px",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"}),d.on("start",function(){i.setStyle("overflow","hidden")}),d.on("end",function(){i.removeAttribute("style"),i.setStyle("display","none"),e&&e(!1)}),d.run(),d}},S.rg.slideToggle=function(t,e,n,i){var o=S.one(t);if(o){var a="none"!=o.getStyle("display");return i||(i={}),i.dimension=n?"width":"height",a?S.rg.slideClose(t,e,i):S.rg.slideOpen(t,e,i)}e&&e()},S.rg.scrollTo=function(t,e,n){t=S.one(t);var i=new S.Anim({node:t,duration:n,to:{scroll:[0,e]},easing:S.Easing.easeInOut});i.run(),i.destroy()}},"0.0.1",{requires:["anim","transition"]});
"use strict";YUI.add("rg-base",function(){},"0.2.0",{requires:["array-extras","base","node","plugin","rg-ajax","event","querystring-stringify","lazysizes","rg-anim"]});
